{% extends 'mainapp/base.html' %} {% load static %} {% block title %}Home -
Ideator{% endblock title %} {% block content %}
<div class="ml-10 flex justify-between relative h-[550px] overflow-hidden">
  <div>
    <h1
      class="text-left text-black text-8xl font-bold pt-[150px] drop-shadow-lg"
    >
      Have an <span class="text-red-700">Idea?</span>
    </h1>
    <h1 class="text-left text-gray-700 font-normal text-2xl pt-2 pb-10">
      Choose the Business Unit of your choice and submit the idea.
    </h1>

    <a
      href="{% url 'new_submission' %}"
      class="mt-6 py-6 px-6 text-lg font-medium text-white rounded-full bg-gray-500 hover:bg-black hover:text-white transition duration-300"
      >Submit Idea</a
    >

    <a
      href="#YOUR_SUBMISSIONS"
      class="mt-6 py-6 px-6 text-lg font-medium text-gray-500 rounded hover:text-black transition duration-300"
      >Check Status</a
    >
  </div>
  <img
    src="{% static 'images\landingpage_img.png' %}"
    class="float-right absolute right-[-450px] top-[-250px]"
    alt="Idea"
    height="600px"
    width="900px"
  />
</div>

<div id="YOUR_SUBMISSIONS" class="mt-16">
  <h3 class="py-4 mt-28 text-center text-red-700 text-6xl font-bold pt-16 drop-shadow-lg hover:underline-offset-8">
    Hello {{ user.fullname }}
  </h3>
  <h4 class="py-4 text-center text-red-700 text-5xl font-bold pt-16 drop-shadow-lg hover:underline-offset-8">
    Your Submissions
  </h4>
</div>
<br />
<div class="flex justify-center flex-col alignitems-center h-auto w-auto">
  <div class="alignitems-center">
    <form method="POST">
      {% csrf_token %}
      <ul class="flex justify-center pb-3">
        <li class="mr-3">
          {% if selected == 'all' %}
          <button
            class="inline-block border border-red-500 rounded py-2 px-4 text-white bg-red-700"
            name="selected" value="all"
            >
          {% else %}
          <button
            class="inline-block border border-white rounded hover:border-gray-200 text-red-500 hover:bg-gray-200 py-2 px-4"
            name="selected" value="all"
            >
          {% endif %}
            All</button
          >
        </li>
        <li class="mr-3">
          {% if selected == 'review_pending' %}
          <button
            class="inline-block border border-red-500 rounded py-2 px-4 text-white bg-red-700"
            name="selected" value="review_pending"
            >
          {% else %}
          <button
            class="inline-block border border-white rounded hover:border-gray-200 text-red-500 hover:bg-gray-200 py-2 px-4"
            name="selected" value="review_pending"
            >
          {% endif %}
          Review Pending</button>
        </li>
        <li class="mr-3">
          {% if selected == 'accepted' %}
          <button
            class="inline-block border border-red-500 rounded py-2 px-4 text-white bg-red-700"
            name="selected" value="accepted"
            >
          {% else %}
          <button
            class="inline-block border border-white rounded hover:border-gray-200 text-red-500 hover:bg-gray-200 py-2 px-4"
            name="selected" value="accepted"
            >
          {% endif %}
          Accepted</button>
        </li>
        <li class="mr-3">
          {% if selected == 'on_hold' %}
          <button
            class="inline-block border border-red-500 rounded py-2 px-4 text-white bg-red-700"
            name="selected" value="on_hold"
            >
          {% else %}
          <button
            class="inline-block border border-white rounded hover:border-gray-200 text-red-500 hover:bg-gray-200 py-2 px-4"
            name="selected" value="on_hold"
            >
          {% endif %}
          On Hold</button>
        </li>
        <li class="mr-3">
          {% if selected == 'rejected' %}
          <button
            class="inline-block border border-red-500 rounded py-2 px-4 text-white bg-red-700"
            name="selected" value="rejected"
            >
          {% else %}
          <button
            class="inline-block border border-white rounded hover:border-gray-200 text-red-500 hover:bg-gray-200 py-2 px-4"
            name="selected" value="rejected"
            >
          {% endif %}
          Rejected</button
          >
        </li>
      </ul>
    </form>
  </div>
  <div class="alignitems-center px-10 mx-5">
    <div class="overflow-scroll h-96 scroll-smooth overflow-x-hidden">
      {% for submission in submissions %}
      <div class="bg-gray-200 px-4 py-4 rounded-lg mt-5 mx-5">
        <div class="flex justify-between">
          <div class="basis-1/2 px-6">
            <p class="font-bold text-xl uppercase">{{ submission.name }}
              {% if submission.status == "Review Pending"  %}
              <a href="{% url 'new_submission' %}">
              <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" class="inline mx-3"><path fill-rule="evenodd" fill="#d50000" d="M18.9 18.01H2.1V2.096h8.4V.106H0V20h21v-9.947h-2.1v7.958zM6.3 9.95 16.631 0 21 4.115l-10.666 9.917H6.3V9.95z"/></svg>
              </a>
              {% endif %}
            </p>
            <p class="idea_description">{{ submission.description }}</p>
            {% if submission.attachment %}
            <a
              href="{{ submission.attachment.url }}"
              target="_blank"
              class="underline text-red-700 text-[15px] hover:text-[16px] hover:font-bold transition duration-300"
              >View Attachment</a
            >
            {% endif %}
            
            <button type="button" id="open-btn"
            class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"
            data-bs-toggle="modal" data-bs-target="#exampleModalCenteredScrollable">
            View remark
          </button>
          
          <div class="modal fade fixed top-0 left-0 hidden w-full h-full hidden outline-none overflow-x-hidden overflow-y-auto"
            id="exampleModalCenteredScrollable" tabindex="-1" aria-labelledby="exampleModalCenteredScrollable" aria-modal="true"
            role="dialog">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable relative w-auto pointer-events-none">
              <div
                class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
                <div
                  class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
                  <h5 class="text-xl font-medium leading-normal text-gray-800" id="exampleModalCenteredScrollableLabel">
                    Modal title
                  </h5>
                  <!-- <button type="button"
                    class="btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline"
                    data-bs-dismiss="modal" aria-label="Close"></button> -->
                </div>
                <div class="modal-body relative p-4">
                  <p>This is some placeholder content to show a vertically centered modal. We've added some extra copy here to
                    show how vertically centering the modal works when combined with scrollable modals. We also use some repeated
                    line breaks to quickly extend the height of the content, thereby triggering the scrolling. When content
                    becomes longer than the predefined max-height of modal, content will be cropped and scrollable within the
                    modal.</p>
          
                </div>
                <div
                  class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md">
                  <button type="button" id="close-btn"
                    class="inline-block px-6 py-2.5 bg-purple-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-purple-700 hover:shadow-lg focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out"
                    data-bs-dismiss="modal">
                    Close
                  </button>
          
                </div>
              </div>
            </div>
          </div>
           
          </div>
          <div class="basis-1/4 pl-6 text-right flex flex-col justify-evenly">
            <div class="flex justify-around">
              {% if submission.status == "Accepted" %}
              <button
                class="bg-green-500 rounded-full font-medium text-white py-4 px-4 pointer-events-none"
              >
                {{ submission.status }}
              </button>
              {% elif submission.status == "On Hold" %}<button
                class="bg-orange-500 rounded-full font-medium text-white py-4 px-4 pointer-events-none"
              >
                {{ submission.status }}
              </button>
              {% elif submission.status == "Review Pending" %}
              <button
                class="bg-black rounded-full font-medium text-white py-4 px-4 pointer-events-none"
              >
                {{ submission.status }}
              </button>
              {% else %}
              <button
                class="bg-red-500 rounded-full font-medium text-white py-4 px-4 pointer-events-none"
              >
                {{ submission.status }}
              </button>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
  <br />
</div>
</div>
<!-- Javascript code -->
<script>
  
    let modal = document.getElementById("exampleModalCenteredScrollable");

    let btn = document.getElementById("open-btn");

    let button = document.getElementById("close-btn");
    btn.onclick = function () {
      modal.style.display = "block";
    }
    // We want the modal to close when the OK button is clicked
    button.onclick = function () {
      modal.style.display = "none";
    }
    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
</script>
{% endblock content %}
